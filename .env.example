# =============================================================================
# TASSIE REDDIT BOT - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit your actual .env file to version control!

# =============================================================================
# REDDIT API CREDENTIALS
# =============================================================================
# Get these from https://www.reddit.com/prefs/apps
# Create a new app and select "web app" type (NOT script)
REDDIT_CLIENT_ID=your_reddit_client_id_here
REDDIT_CLIENT_SECRET=your_reddit_client_secret_here

# OAuth2 redirect URI - must match exactly what you set in Reddit app settings
# Default for local development - change for production deployment
REDDIT_REDIRECT_URI=http://localhost:8080/auth/callback

# Reddit API user agent string - be descriptive and include contact info
# Format: "AppName/Version by u/YourUsername"
REDDIT_USER_AGENT=TassieRedditBot/1.0.0 by u/your-username

# =============================================================================
# SUBREDDIT CONFIGURATION
# =============================================================================
# Subreddit to monitor (without r/ prefix)
REDDIT_SUBREDDIT=tasmania

# Number of posts to fetch per check (1-100)
# Lower values = less API usage but might miss posts during high activity
# Higher values = more comprehensive but uses more API quota
REDDIT_POST_LIMIT=25

# =============================================================================
# DISCORD WEBHOOK CONFIGURATION
# =============================================================================
# Discord webhook URL for sending messages
# Get this from your Discord server: Server Settings > Integrations > Webhooks
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN

# Message format: 'embed' (rich cards with sidebar) or 'normal' (plain text with full-size images)
# 'embed' = traditional rich embeds with colored sidebar (default)
# 'normal' = plain Discord messages with full-size images, better for mobile
DISCORD_MESSAGE_FORMAT=embed

# Optional: Custom username and avatar for webhook messages
# Leave empty to use webhook defaults
DISCORD_DEFAULT_USERNAME=Tassie Reddit Bot
DISCORD_DEFAULT_AVATAR_URL=

# Optional: Custom test connection message
# These will be used when the bot tests the Discord webhook connection
DISCORD_TEST_TITLE=üèùÔ∏è G'day Tassie!
DISCORD_TEST_MESSAGE=Your friendly Reddit bot is now connected and ready to share the latest happenings from r/tasmania! I'll keep you updated with interesting posts from our beautiful island community. ü¶ò
DISCORD_TEST_FOOTER=Ready to share Tasmania's stories with you!

# Optional: Discord Threading Configuration
# Enable automatic thread creation for each Reddit post
DISCORD_ENABLE_THREADING=false
# Prefix for thread names (helps organize discussions)
DISCORD_THREAD_PREFIX=üçé 
# Whether your Discord channel is a Forum Channel (true) or Text Channel (false)
DISCORD_FORUM_CHANNEL=false
# Maximum thread name length (Discord limit is 100, recommended 80)
DISCORD_THREAD_NAME_MAX_LENGTH=80

# Optional: Discord Forum Channel Tag Mapping
# Map Reddit flair text to Discord forum tag IDs (for Forum Channels only)
# Format: "FlairText1:TagID1,FlairText2:TagID2"
# To get Discord tag IDs: Right-click on forum channel ‚Üí Edit Channel ‚Üí Tags ‚Üí Copy ID
# Example: "Video:1234567890123456789,Question:9876543210987654321,News:1111222233334444555"
# Leave empty to disable automatic tagging
DISCORD_TAG_MAPPING=

# =============================================================================
# SCHEDULING CONFIGURATION
# =============================================================================
# Cron expression for how often to check Reddit
# Default: Every 15 minutes - "*/15 * * * *"
# Examples:
#   Every 5 minutes: "*/5 * * * *"
#   Every hour: "0 * * * *"
#   Every 30 minutes: "*/30 * * * *"
#   At specific times: "0 9,12,15,18 * * *" (9am, 12pm, 3pm, 6pm)
SCHEDULE_CRON=*/15 * * * *

# Timezone for scheduling (IANA timezone identifier)
# Australia/Hobart is used for Tasmanian local time
SCHEDULE_TIMEZONE=Australia/Hobart

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level: error, warn, info, debug
# Use 'info' for production, 'debug' for development
LOG_LEVEL=info

# Directory for log files (relative to project root)
LOG_DIRECTORY=logs

# Maximum size per log file before rotation
LOG_MAX_FILE_SIZE=10m

# How long to keep old log files (days with 'd' suffix)
LOG_MAX_FILES=14d

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# File path for storing processed post IDs to avoid duplicates
# This prevents reposting the same content
STORAGE_FILE_PATH=data/posted-ids.json

# =============================================================================
# APPLICATION ENVIRONMENT
# =============================================================================
# Environment: development or production
# This affects logging verbosity and error handling
ENVIRONMENT=production

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
# Port for health check endpoint (used by Docker)
# Set to a port that won't conflict with other services
HEALTH_CHECK_PORT=3000

# Health check endpoint path
HEALTH_CHECK_PATH=/health

# =============================================================================
# OPTIONAL: RATE LIMITING
# =============================================================================
# Reddit API rate limit buffer (requests per minute)
# Reddit allows 60 requests per minute - use lower values for safety
REDDIT_RATE_LIMIT=50

# Discord webhook rate limit (messages per minute)
# Discord allows 30 messages per minute per webhook
DISCORD_RATE_LIMIT=25

# =============================================================================
# OPTIONAL: MONITORING & ALERTING
# =============================================================================
# Webhook URL for error notifications (optional)
# Can be another Discord webhook or external service
ERROR_NOTIFICATION_WEBHOOK=

# Minimum error level to send notifications: error, warn
ERROR_NOTIFICATION_LEVEL=error

# =============================================================================
# DEVELOPMENT SETTINGS (only used when ENVIRONMENT=development)
# =============================================================================
# Enable debug mode for additional logging
DEBUG_MODE=false

# Mock Reddit/Discord APIs for testing
MOCK_REDDIT_API=false
MOCK_DISCORD_API=false

# Override intervals for faster testing (minutes)
DEV_CHECK_INTERVAL_MINUTES=1